---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  name: resourceplans.nephoran.com.
spec:
  group: nephoran.com.
  names:
    kind: ResourcePlan
    listKind: ResourcePlanList
    plural: resourceplans
    singular: resourceplan
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              complianceRequirements:
                items:
                  properties:
                    mandatory:
                      default: true
                      type: boolean
                    requirements:
                      items:
                        type: string
                      type: array
                    standard:
                      enum:
                      - 3GPP
                      - ETSI
                      - ORAN
                      - FCC
                      - CE
                      - GDPR
                      - HIPAA
                      - SOC2
                      - ISO27001
                      type: string
                    version:
                      type: string
                  required:
                  - standard
                  type: object
                type: array
              deploymentPattern:
                default: Standalone
                type: string
              enableCostOptimization:
                default: true
                type: boolean
              enablePerformanceOptimization:
                default: true
                type: boolean
              intentProcessingRef:
                properties:
                  apiVersion:
                    type: string
                  kind:
                    type: string
                  name:
                    type: string
                  namespace:
                    type: string
                  uid:
                    type: string
                type: object
              networkSlice:
                properties:
                  isolationLevel:
                    default: logical
                    type: string
                  qualityOfService:
                    properties:
                      allocationRetentionPriority:
                        format: int32
                        maximum: 15
                        type: integer
                      fiveQI:
                        format: int32
                        maximum: 255
                        type: integer
                      guaranteedBitRate:
                        anyOf:
                        - type: integer
                        - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      maxBitRate:
                        anyOf:
                        - type: integer
                        - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      priorityLevel:
                        format: int32
                        maximum: 15
                        type: integer
                      qci:
                        format: int32
                        maximum: 9
                        type: integer
                    type: object
                  resourceAllocation:
                    default: shared
                    type: string
                  serviceLevelAgreement:
                    properties:
                      availabilityTarget:
                        type: number
                      maxLatency:
                        format: int32
                        minimum: 1
                        type: integer
                      maxPacketLoss:
                        type: number
                      minThroughput:
                        format: int32
                        minimum: 1
                        type: integer
                      recoveryPointObjective:
                        format: int32
                        minimum: 0
                        type: integer
                      recoveryTimeObjective:
                        format: int32
                        minimum: 1
                        type: integer
                    type: object
                  sliceId:
                    pattern: ^[0-9A-Fa-f]{6}-[0-9A-Fa-f]{6}$
                    type: string
                  sliceType:
                    enum:
                    - eMBB
                    - URLLC
                    - mMTC
                    - custom
                    type: string
                required:
                - sliceId
                - sliceType
                type: object
              optimizationGoals:
                items:
                  properties:
                    constraints:
                      additionalProperties:
                        type: string
                      type: object
                    priority:
                      maximum: 10
                      type: integer
                    target:
                      anyOf:
                      - type: integer
                      - type: string
                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                      x-kubernetes-int-or-string: true
                    type:
                      enum:
                      - cost
                      - performance
                      - availability
                      - latency
                      - throughput
                      - energy
                      type: string
                    weight:
                      type: number
                  required:
                  - priority
                  - type
                  type: object
                type: array
              parentIntentRef:
                properties:
                  apiVersion:
                    type: string
                  kind:
                    type: string
                  name:
                    type: string
                  namespace:
                    type: string
                  uid:
                    type: string
                type: object
              priority:
                default: medium
                type: string
              requirementsInput:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              resourceConstraints:
                properties:
                  bandwidth:
                    properties:
                      limit:
                        type: string
                      max:
                        type: string
                      min:
                        type: string
                      request:
                        type: string
                    type: object
                  cpu:
                    properties:
                      limit:
                        type: string
                      max:
                        type: string
                      min:
                        type: string
                      request:
                        type: string
                    type: object
                  customResources:
                    additionalProperties:
                      properties:
                        limit:
                          type: string
                        max:
                          type: string
                        min:
                          type: string
                        request:
                          type: string
                      type: object
                    type: object
                  memory:
                    properties:
                      limit:
                        type: string
                      max:
                        type: string
                      min:
                        type: string
                      request:
                        type: string
                    type: object
                  storage:
                    properties:
                      limit:
                        type: string
                      max:
                        type: string
                      min:
                        type: string
                      request:
                        type: string
                    type: object
                type: object
              targetClusters:
                items:
                  properties:
                    capabilities:
                      items:
                        type: string
                      type: array
                    cloudProvider:
                      enum:
                      - aws
                      - azure
                      - gcp
                      - openstack
                      - on-premises
                      type: string
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                    name:
                      type: string
                    priority:
                      maximum: 10
                      type: integer
                    region:
                      type: string
                    resourceLimits:
                      properties:
                        bandwidth:
                          properties:
                            limit:
                              type: string
                            max:
                              type: string
                            min:
                              type: string
                            request:
                              type: string
                          type: object
                        cpu:
                          properties:
                            limit:
                              type: string
                            max:
                              type: string
                            min:
                              type: string
                            request:
                              type: string
                          type: object
                        customResources:
                          additionalProperties:
                            properties:
                              limit:
                                type: string
                              max:
                                type: string
                              min:
                                type: string
                              request:
                                type: string
                            type: object
                          type: object
                        memory:
                          properties:
                            limit:
                              type: string
                            max:
                              type: string
                            min:
                              type: string
                            request:
                              type: string
                          type: object
                        storage:
                          properties:
                            limit:
                              type: string
                            max:
                              type: string
                            min:
                              type: string
                            request:
                              type: string
                          type: object
                      type: object
                    zone:
                      type: string
                  required:
                  - name
                  type: object
                type: array
              targetComponents:
                items:
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                    name:
                      type: string
                    namespace:
                      type: string
                    type:
                      type: string
                  required:
                  - name
                  - type
                  type: object
                type: array
            required:
            - parentIntentRef
            - requirementsInput
            type: object
          status:
            properties:
              complianceStatus:
                items:
                  properties:
                    standard:
                      type: string
                    status:
                      type: string
                    validatedAt:
                      format: date-time
                      type: string
                    validationResults:
                      items:
                        type: string
                      type: array
                    version:
                      type: string
                    violations:
                      items:
                        properties:
                          description:
                            type: string
                          remediation:
                            type: string
                          resource:
                            type: string
                          severity:
                            type: string
                          type:
                            type: string
                        required:
                        - description
                        - severity
                        - type
                        type: object
                      type: array
                  required:
                  - standard
                  - status
                  - validatedAt
                  type: object
                type: array
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      format: date-time
                      type: string
                    message:
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-type: atomic
              costEstimate:
                properties:
                  billingPeriod:
                    default: monthly
                    type: string
                  confidence:
                    type: number
                  costBreakdown:
                    additionalProperties:
                      type: number
                    type: object
                  currency:
                    default: USD
                    type: string
                  estimatedAt:
                    format: date-time
                    type: string
                  totalCost:
                    type: number
                required:
                - billingPeriod
                - currency
                - estimatedAt
                - totalCost
                type: object
              observedGeneration:
                format: int64
                type: integer
              optimizationResults:
                items:
                  properties:
                    appliedChanges:
                      items:
                        type: string
                      type: array
                    description:
                      type: string
                    improvementPercent:
                      type: number
                    optimizedAt:
                      format: date-time
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                  required:
                  - optimizedAt
                  - status
                  - type
                  type: object
                type: array
              performanceEstimate:
                properties:
                  bottleneckAnalysis:
                    items:
                      type: string
                    type: array
                  expectedAvailability:
                    type: number
                  expectedLatency:
                    type: number
                  expectedThroughput:
                    type: number
                  resourceUtilization:
                    additionalProperties:
                      type: number
                    type: object
                  scalingRecommendations:
                    items:
                      properties:
                        confidence:
                          type: number
                        impact:
                          type: string
                        reason:
                          type: string
                        recommendedReplicas:
                          format: int32
                          type: integer
                        resource:
                          type: string
                      required:
                      - reason
                      - recommendedReplicas
                      - resource
                      type: object
                    type: array
                type: object
              phase:
                type: string
              plannedResources:
                items:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    cluster:
                      type: string
                    component:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                        name:
                          type: string
                        namespace:
                          type: string
                        type:
                          type: string
                      required:
                      - name
                      - type
                      type: object
                    configuration:
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    dependencies:
                      items:
                        type: string
                      type: array
                    estimatedCost:
                      type: number
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                    name:
                      type: string
                    namespace:
                      type: string
                    replicas:
                      format: int32
                      minimum: 0
                      type: integer
                    resourceRequirements:
                      properties:
                        limits:
                          properties:
                            cpu:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            ephemeralStorage:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            extended:
                              additionalProperties:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                            memory:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            storage:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          properties:
                            cpu:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            ephemeralStorage:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            extended:
                              additionalProperties:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                            memory:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            storage:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                          type: object
                      required:
                      - requests
                      type: object
                    type:
                      type: string
                  required:
                  - name
                  - resourceRequirements
                  - type
                  type: object
                type: array
              planningCompletionTime:
                format: date-time
                type: string
              planningDuration:
                type: string
              planningStartTime:
                format: date-time
                type: string
              qualityScore:
                type: number
              resourceAllocation:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              retryCount:
                format: int32
                type: integer
              validationResults:
                items:
                  properties:
                    details:
                      additionalProperties:
                        type: string
                      type: object
                    message:
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                    validatedAt:
                      format: date-time
                      type: string
                  required:
                  - message
                  - status
                  - type
                  - validatedAt
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
