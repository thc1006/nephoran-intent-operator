---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: failoverpolicies.nephoran.com
spec:
  group: nephoran.com
  names:
    kind: FailoverPolicy
    listKind: FailoverPolicyList
    plural: failoverpolicies
    shortNames:
    - fp
    - failoverpol
    singular: failoverpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.primaryRegion
      name: Primary Region
      type: string
    - jsonPath: .spec.autoFailover
      name: Auto Failover
      type: boolean
    - jsonPath: .status.phase
      name: Status
      type: string
    - jsonPath: .status.currentActiveRegion
      name: Current Region
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: FailoverPolicy defines automated failover policies
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: FailoverPolicySpec defines the desired state of FailoverPolicy
            properties:
              autoFailover:
                default: false
                description: Enable automatic failover
                type: boolean
              components:
                description: Components to include in failover
                items:
                  description: TargetComponent defines a component targeted for disaster
                    recovery
                  properties:
                    dependencies:
                      description: Dependencies on other components
                      items:
                        type: string
                      type: array
                    labelSelector:
                      additionalProperties:
                        type: string
                      description: Label selector for the component
                      type: object
                    name:
                      description: Name of the component
                      type: string
                    namespace:
                      description: Namespace of the component
                      type: string
                    type:
                      description: Type of component (deployment, statefulset, etc.)
                      enum:
                      - deployment
                      - statefulset
                      - service
                      - configmap
                      - secret
                      - pvc
                      type: string
                  required:
                  - name
                  - type
                  type: object
                type: array
              dataSyncConfig:
                description: Data synchronization requirements
                properties:
                  consistencyLevel:
                    default: eventual
                    description: Consistency level required
                    enum:
                    - eventual
                    - strong
                    - session
                    type: string
                  dataSources:
                    description: Data sources to synchronize
                    items:
                      description: FailoverDataSource defines a data source for synchronization
                      properties:
                        name:
                          description: Data source name
                          type: string
                        regionalEndpoints:
                          additionalProperties:
                            type: string
                          description: Regional endpoints for the data source
                          type: object
                        syncConfig:
                          description: Custom synchronization configuration
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        syncMethod:
                          default: async
                          description: Synchronization method
                          enum:
                          - async
                          - sync
                          - custom
                          type: string
                        type:
                          description: Data source type
                          enum:
                          - database
                          - storage
                          - cache
                          - custom
                          type: string
                      required:
                      - name
                      - regionalEndpoints
                      - type
                      type: object
                    type: array
                  enabled:
                    default: true
                    description: Enable data synchronization before failover
                    type: boolean
                  syncTimeout:
                    default: 5m
                    description: Synchronization timeout
                    pattern: ^[0-9]+(h|m|s)$
                    type: string
                type: object
              dnsConfig:
                description: DNS failover configuration
                properties:
                  credentialsSecret:
                    description: Credentials secret
                    type: string
                  provider:
                    description: DNS provider
                    enum:
                    - route53
                    - cloudflare
                    - external
                    type: string
                  records:
                    description: DNS records to manage
                    items:
                      description: FailoverDNSRecord defines a DNS record for failover
                      properties:
                        healthCheck:
                          description: Health check configuration for this record
                          properties:
                            enabled:
                              default: true
                              description: Enable DNS health checking
                              type: boolean
                            endpoint:
                              description: Health check endpoint
                              type: string
                            path:
                              default: /healthz
                              description: Path for HTTP(S) health checks
                              type: string
                            port:
                              default: 80
                              description: Port for health check
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            protocol:
                              default: HTTP
                              description: Protocol for health check
                              enum:
                              - HTTP
                              - HTTPS
                              - TCP
                              type: string
                          required:
                          - endpoint
                          type: object
                        name:
                          description: Record name
                          type: string
                        regionalValues:
                          additionalProperties:
                            type: string
                          description: Regional values (region -> value mapping)
                          type: object
                        type:
                          description: Record type
                          enum:
                          - A
                          - AAAA
                          - CNAME
                          type: string
                      required:
                      - name
                      - regionalValues
                      - type
                      type: object
                    minItems: 1
                    type: array
                  ttl:
                    default: 300
                    description: TTL for DNS records
                    format: int32
                    minimum: 60
                    type: integer
                  zone:
                    description: Zone ID or domain name
                    type: string
                required:
                - provider
                - records
                - zone
                type: object
              failoverRegions:
                description: Failover regions in order of preference
                items:
                  type: string
                minItems: 1
                type: array
              healthCheck:
                description: Health check configuration
                properties:
                  endpoints:
                    description: Endpoints to check
                    items:
                      type: string
                    minItems: 1
                    type: array
                  failureThreshold:
                    default: 3
                    description: Number of failed checks before triggering
                    format: int32
                    minimum: 1
                    type: integer
                  interval:
                    default: 30s
                    description: Check interval
                    pattern: ^[0-9]+(h|m|s)$
                    type: string
                  successThreshold:
                    default: 3
                    description: Number of successful checks to recover
                    format: int32
                    minimum: 1
                    type: integer
                  timeout:
                    default: 10s
                    description: Timeout for each check
                    pattern: ^[0-9]+(h|m|s)$
                    type: string
                required:
                - endpoints
                type: object
              primaryRegion:
                description: Primary region
                type: string
              resourceConstraints:
                description: Resource constraints for failover operations
                properties:
                  cpu:
                    anyOf:
                    - type: integer
                    - type: string
                    description: CPU limits
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                  maxCPU:
                    anyOf:
                    - type: integer
                    - type: string
                    description: Maximum CPU allocation (for blueprint engine compatibility)
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                  maxConcurrency:
                    default: 10
                    description: Maximum concurrent operations
                    format: int32
                    minimum: 1
                    type: integer
                  maxMemory:
                    anyOf:
                    - type: integer
                    - type: string
                    description: Maximum memory allocation (for blueprint engine compatibility)
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                  memory:
                    anyOf:
                    - type: integer
                    - type: string
                    description: Memory limits
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                  networkBandwidth:
                    anyOf:
                    - type: integer
                    - type: string
                    description: Network bandwidth limits
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                  storage:
                    anyOf:
                    - type: integer
                    - type: string
                    description: Storage limits
                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    x-kubernetes-int-or-string: true
                type: object
              rollbackConfig:
                description: Rollback configuration
                properties:
                  autoRollback:
                    default: true
                    description: Enable automatic rollback on failure
                    type: boolean
                  dataRecovery:
                    description: Data recovery requirements
                    properties:
                      enabled:
                        default: true
                        description: Enable data recovery
                        type: boolean
                      recoveryTarget:
                        description: Point-in-time recovery target
                        pattern: ^[0-9]+(h|m|s)$
                        type: string
                      validation:
                        description: Recovery validation
                        properties:
                          checks:
                            description: Validation checks
                            items:
                              type: string
                            type: array
                          enabled:
                            default: true
                            description: Enable validation
                            type: boolean
                          timeout:
                            default: 5m
                            description: Validation timeout
                            pattern: ^[0-9]+(h|m|s)$
                            type: string
                        type: object
                    type: object
                  rollbackTimeout:
                    default: 10m
                    description: Rollback timeout
                    pattern: ^[0-9]+(h|m|s)$
                    type: string
                  triggerConditions:
                    description: Rollback trigger conditions
                    items:
                      description: FailoverTriggerCondition defines conditions that
                        trigger failover
                      properties:
                        cooldown:
                          default: 10m
                          description: Cooldown period after triggering
                          pattern: ^[0-9]+(h|m|s)$
                          type: string
                        healthCheckConfig:
                          description: Health check configuration (for health-check
                            type)
                          properties:
                            endpoints:
                              description: Endpoints to check
                              items:
                                type: string
                              minItems: 1
                              type: array
                            failureThreshold:
                              default: 3
                              description: Number of failed checks before triggering
                              format: int32
                              minimum: 1
                              type: integer
                            interval:
                              default: 30s
                              description: Check interval
                              pattern: ^[0-9]+(h|m|s)$
                              type: string
                            successThreshold:
                              default: 3
                              description: Number of successful checks to recover
                              format: int32
                              minimum: 1
                              type: integer
                            timeout:
                              default: 10s
                              description: Timeout for each check
                              pattern: ^[0-9]+(h|m|s)$
                              type: string
                          required:
                          - endpoints
                          type: object
                        metricThreshold:
                          description: Metric threshold configuration (for metric-threshold
                            type)
                          properties:
                            duration:
                              default: 5m
                              description: Duration the condition must persist
                              pattern: ^[0-9]+(h|m|s)$
                              type: string
                            metricName:
                              description: Metric name
                              type: string
                            operator:
                              description: Comparison operator
                              enum:
                              - gt
                              - gte
                              - lt
                              - lte
                              - eq
                              - ne
                              type: string
                            query:
                              description: Metric query
                              type: string
                            threshold:
                              description: Threshold value
                              type: string
                          required:
                          - metricName
                          - operator
                          - query
                          - threshold
                          type: object
                        name:
                          description: Condition name
                          type: string
                        severity:
                          default: medium
                          description: Severity level
                          enum:
                          - low
                          - medium
                          - high
                          - critical
                          type: string
                        type:
                          description: Condition type
                          enum:
                          - health-check
                          - metric-threshold
                          - manual
                          - external
                          type: string
                        webhookConfig:
                          description: External webhook configuration (for external
                            type)
                          properties:
                            body:
                              description: Request body template
                              type: string
                            expectedCodes:
                              description: Expected response codes for success
                              items:
                                format: int32
                                type: integer
                              type: array
                            headers:
                              additionalProperties:
                                type: string
                              description: Request headers
                              type: object
                            method:
                              default: POST
                              description: HTTP method
                              enum:
                              - GET
                              - POST
                              - PUT
                              type: string
                            timeout:
                              default: 30s
                              description: Timeout for webhook call
                              pattern: ^[0-9]+(h|m|s)$
                              type: string
                            url:
                              description: Webhook URL
                              type: string
                          required:
                          - url
                          type: object
                      required:
                      - name
                      - type
                      type: object
                    type: array
                type: object
              rtoTarget:
                default: 1h
                description: RTO target for failover
                pattern: ^[0-9]+(h|m|s)$
                type: string
              trafficConfig:
                description: Traffic splitting configuration
                properties:
                  canaryConfig:
                    description: Canary failover configuration
                    properties:
                      autoPromote:
                        default: false
                        description: Automatic promotion if criteria are met
                        type: boolean
                      canaryPercentage:
                        default: 10
                        description: Canary traffic percentage
                        format: int32
                        maximum: 50
                        minimum: 1
                        type: integer
                      duration:
                        description: Duration of canary phase
                        pattern: ^[0-9]+(h|m|s)$
                        type: string
                      successCriteria:
                        description: Success criteria for promoting canary
                        items:
                          description: FailoverSuccessCriterion defines success criteria
                            for failover phases
                          properties:
                            metric:
                              description: Metric to evaluate
                              type: string
                            name:
                              description: Criterion name
                              type: string
                            operator:
                              description: Comparison operator
                              enum:
                              - gt
                              - gte
                              - lt
                              - lte
                              - eq
                              - ne
                              type: string
                            threshold:
                              description: Threshold for success
                              type: string
                          required:
                          - metric
                          - name
                          - operator
                          - threshold
                          type: object
                        type: array
                    required:
                    - canaryPercentage
                    - duration
                    type: object
                  gradualConfig:
                    description: Gradual failover configuration
                    properties:
                      stepDuration:
                        description: Duration between steps
                        pattern: ^[0-9]+(h|m|s)$
                        type: string
                      steps:
                        description: Traffic shift steps (percentages)
                        items:
                          format: int32
                          type: integer
                        minItems: 1
                        type: array
                      successCriteria:
                        description: Success criteria to proceed to next step
                        items:
                          description: FailoverSuccessCriterion defines success criteria
                            for failover phases
                          properties:
                            metric:
                              description: Metric to evaluate
                              type: string
                            name:
                              description: Criterion name
                              type: string
                            operator:
                              description: Comparison operator
                              enum:
                              - gt
                              - gte
                              - lt
                              - lte
                              - eq
                              - ne
                              type: string
                            threshold:
                              description: Threshold for success
                              type: string
                          required:
                          - metric
                          - name
                          - operator
                          - threshold
                          type: object
                        type: array
                    required:
                    - stepDuration
                    - steps
                    type: object
                  loadBalancerConfig:
                    description: Load balancer configuration
                    properties:
                      configTemplate:
                        description: Configuration template
                        type: string
                      healthCheck:
                        description: Health check configuration
                        properties:
                          endpoints:
                            description: Endpoints to check
                            items:
                              type: string
                            minItems: 1
                            type: array
                          failureThreshold:
                            default: 3
                            description: Number of failed checks before triggering
                            format: int32
                            minimum: 1
                            type: integer
                          interval:
                            default: 30s
                            description: Check interval
                            pattern: ^[0-9]+(h|m|s)$
                            type: string
                          successThreshold:
                            default: 3
                            description: Number of successful checks to recover
                            format: int32
                            minimum: 1
                            type: integer
                          timeout:
                            default: 10s
                            description: Timeout for each check
                            pattern: ^[0-9]+(h|m|s)$
                            type: string
                        required:
                        - endpoints
                        type: object
                      type:
                        description: Load balancer type
                        enum:
                        - nginx
                        - haproxy
                        - envoy
                        - aws-alb
                        - gcp-lb
                        - azure-lb
                        type: string
                    required:
                    - type
                    type: object
                  mode:
                    default: immediate
                    description: Traffic splitting mode
                    enum:
                    - immediate
                    - gradual
                    - canary
                    type: string
                type: object
              triggerConditions:
                description: Failover trigger conditions
                items:
                  description: FailoverTriggerCondition defines conditions that trigger
                    failover
                  properties:
                    cooldown:
                      default: 10m
                      description: Cooldown period after triggering
                      pattern: ^[0-9]+(h|m|s)$
                      type: string
                    healthCheckConfig:
                      description: Health check configuration (for health-check type)
                      properties:
                        endpoints:
                          description: Endpoints to check
                          items:
                            type: string
                          minItems: 1
                          type: array
                        failureThreshold:
                          default: 3
                          description: Number of failed checks before triggering
                          format: int32
                          minimum: 1
                          type: integer
                        interval:
                          default: 30s
                          description: Check interval
                          pattern: ^[0-9]+(h|m|s)$
                          type: string
                        successThreshold:
                          default: 3
                          description: Number of successful checks to recover
                          format: int32
                          minimum: 1
                          type: integer
                        timeout:
                          default: 10s
                          description: Timeout for each check
                          pattern: ^[0-9]+(h|m|s)$
                          type: string
                      required:
                      - endpoints
                      type: object
                    metricThreshold:
                      description: Metric threshold configuration (for metric-threshold
                        type)
                      properties:
                        duration:
                          default: 5m
                          description: Duration the condition must persist
                          pattern: ^[0-9]+(h|m|s)$
                          type: string
                        metricName:
                          description: Metric name
                          type: string
                        operator:
                          description: Comparison operator
                          enum:
                          - gt
                          - gte
                          - lt
                          - lte
                          - eq
                          - ne
                          type: string
                        query:
                          description: Metric query
                          type: string
                        threshold:
                          description: Threshold value
                          type: string
                      required:
                      - metricName
                      - operator
                      - query
                      - threshold
                      type: object
                    name:
                      description: Condition name
                      type: string
                    severity:
                      default: medium
                      description: Severity level
                      enum:
                      - low
                      - medium
                      - high
                      - critical
                      type: string
                    type:
                      description: Condition type
                      enum:
                      - health-check
                      - metric-threshold
                      - manual
                      - external
                      type: string
                    webhookConfig:
                      description: External webhook configuration (for external type)
                      properties:
                        body:
                          description: Request body template
                          type: string
                        expectedCodes:
                          description: Expected response codes for success
                          items:
                            format: int32
                            type: integer
                          type: array
                        headers:
                          additionalProperties:
                            type: string
                          description: Request headers
                          type: object
                        method:
                          default: POST
                          description: HTTP method
                          enum:
                          - GET
                          - POST
                          - PUT
                          type: string
                        timeout:
                          default: 30s
                          description: Timeout for webhook call
                          pattern: ^[0-9]+(h|m|s)$
                          type: string
                        url:
                          description: Webhook URL
                          type: string
                      required:
                      - url
                      type: object
                  required:
                  - name
                  - type
                  type: object
                type: array
            required:
            - failoverRegions
            - primaryRegion
            type: object
          status:
            description: FailoverPolicyStatus defines the observed state of FailoverPolicy
            properties:
              conditions:
                description: Conditions
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              currentActiveRegion:
                description: Current active region
                type: string
              failoverHistory:
                description: Failover history (last 10 executions)
                items:
                  description: FailoverExecutionStatus defines the status of a failover
                    execution
                  properties:
                    endTime:
                      description: End time
                      format: date-time
                      type: string
                    error:
                      description: Error message if failed
                      type: string
                    id:
                      description: Execution ID
                      type: string
                    rtoAchieved:
                      description: RTO achieved
                      type: string
                    sourceRegion:
                      description: Source region
                      type: string
                    startTime:
                      description: Start time
                      format: date-time
                      type: string
                    status:
                      description: Status
                      enum:
                      - Running
                      - Completed
                      - Failed
                      - Cancelled
                      - Rolled-back
                      type: string
                    steps:
                      description: Failover steps
                      items:
                        description: FailoverExecutionStep defines a step in failover
                          execution
                        properties:
                          duration:
                            description: Duration
                            type: string
                          endTime:
                            description: End time
                            format: date-time
                            type: string
                          error:
                            description: Error message if failed
                            type: string
                          name:
                            description: Step name
                            type: string
                          startTime:
                            description: Start time
                            format: date-time
                            type: string
                          status:
                            description: Status
                            enum:
                            - Pending
                            - Running
                            - Completed
                            - Failed
                            - Skipped
                            type: string
                          type:
                            description: Step type
                            enum:
                            - dns
                            - traffic
                            - data-sync
                            - validation
                            - cleanup
                            type: string
                        required:
                        - name
                        - startTime
                        - status
                        - type
                        type: object
                      type: array
                    targetRegion:
                      description: Target region
                      type: string
                    triggerReason:
                      description: Trigger reason
                      type: string
                  required:
                  - id
                  - sourceRegion
                  - startTime
                  - status
                  - targetRegion
                  - triggerReason
                  type: object
                type: array
              lastFailover:
                description: Last failover details
                properties:
                  endTime:
                    description: End time
                    format: date-time
                    type: string
                  error:
                    description: Error message if failed
                    type: string
                  id:
                    description: Execution ID
                    type: string
                  rtoAchieved:
                    description: RTO achieved
                    type: string
                  sourceRegion:
                    description: Source region
                    type: string
                  startTime:
                    description: Start time
                    format: date-time
                    type: string
                  status:
                    description: Status
                    enum:
                    - Running
                    - Completed
                    - Failed
                    - Cancelled
                    - Rolled-back
                    type: string
                  steps:
                    description: Failover steps
                    items:
                      description: FailoverExecutionStep defines a step in failover
                        execution
                      properties:
                        duration:
                          description: Duration
                          type: string
                        endTime:
                          description: End time
                          format: date-time
                          type: string
                        error:
                          description: Error message if failed
                          type: string
                        name:
                          description: Step name
                          type: string
                        startTime:
                          description: Start time
                          format: date-time
                          type: string
                        status:
                          description: Status
                          enum:
                          - Pending
                          - Running
                          - Completed
                          - Failed
                          - Skipped
                          type: string
                        type:
                          description: Step type
                          enum:
                          - dns
                          - traffic
                          - data-sync
                          - validation
                          - cleanup
                          type: string
                      required:
                      - name
                      - startTime
                      - status
                      - type
                      type: object
                    type: array
                  targetRegion:
                    description: Target region
                    type: string
                  triggerReason:
                    description: Trigger reason
                    type: string
                required:
                - id
                - sourceRegion
                - startTime
                - status
                - targetRegion
                - triggerReason
                type: object
              observedGeneration:
                description: Observed generation
                format: int64
                type: integer
              phase:
                description: Current phase
                enum:
                - Active
                - Failed
                - Failover
                - Rollback
                - Suspended
                type: string
              regionHealth:
                additionalProperties:
                  description: RegionHealthInfo defines health information for a region
                  properties:
                    errorCount:
                      description: Error count
                      format: int32
                      type: integer
                    healthCheckDetails:
                      additionalProperties:
                        type: string
                      description: Health check details
                      type: object
                    lastCheckTime:
                      description: Last check time
                      format: date-time
                      type: string
                    responseTime:
                      description: Response time
                      type: string
                    status:
                      description: Health status
                      enum:
                      - Healthy
                      - Unhealthy
                      - Unknown
                      type: string
                  required:
                  - status
                  type: object
                description: Regional health status
                type: object
              rtoMetrics:
                description: Current RTO metrics
                properties:
                  averageRTO:
                    description: Average RTO over last 10 failovers
                    type: string
                  bestRTO:
                    description: Best RTO achieved
                    type: string
                  lastRTO:
                    description: Last achieved RTO
                    type: string
                  successRate:
                    description: Success rate percentage
                    format: int32
                    type: integer
                  targetRTO:
                    description: Target RTO
                    type: string
                  worstRTO:
                    description: Worst RTO achieved
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
