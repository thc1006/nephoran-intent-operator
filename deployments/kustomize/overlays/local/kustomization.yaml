# deployments/kustomize/overlays/local/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
bases:
- ../../base

# For local development, we don't push images to a registry.
# The 'Never' policy tells Kubernetes to use the image already
# present on the node, which is ideal for local build-and-run cycles.
images:
- name: llm-processor
  newName: llm-processor
  newTag: latest
- name: nephio-bridge
  newName: nephio-bridge
  newTag: latest
- name: oran-adaptor
  newName: oran-adaptor
  newTag: latest
- name: rag-api
  newName: rag-api
  newTag: latest

patches:
- patch: |-
    - op: replace
      path: /spec/template/spec/containers/0/imagePullPolicy
      value: Never
  target:
    kind: Deployment
